{"version":3,"sources":["logo.svg","components/MapComponent.js","App.js","index.js"],"names":["MapComponent","map","useRef","useState","centerCoord","setcenterCoord","coord","id","name","placemarks","setplacemarks","inputEl","addPlacemark","length","current","value","className","onClick","onSubmit","e","preventDefault","onKeyDown","console","log","ref","defaultValue","element","array","filter","deletePlacemark","instanceRef","defaultState","center","zoom","onBoundsChange","get","getCenter","width","height","onDragEnd","push","onBoundsPlacemarkChange","geometry","getCoordinates","options","draggable","hideIconOnBalloonOpen","hasBalloon","modules","properties","balloonContentHeader","index","polyGeo","balloonCloseButton","strokeColor","strokeWidth","strokeOpacity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iNAAe,I,iCCGR,SAASA,IACZ,IAAMC,EAAMC,iBAAO,MAGnB,EAAsCC,mBAAS,CAAC,MAAO,QAAvD,mBAAOC,EAAP,KAAoBC,EAApB,KAGA,EAAoCF,mBAAS,CAAC,CAAEG,MAAO,CAAC,MAAO,OAAQC,GAAI,EAAGC,KAAM,WAApF,mBAAOC,EAAP,KAAmBC,EAAnB,KAGMC,EAAUT,iBAAO,MAsBnBU,EAAe,WACfF,EAAc,GAAD,mBAAKD,GAAL,CAAiB,CAAEH,MAAOF,EAAaG,GAAIE,EAAWA,EAAWI,OAAS,GAAGN,GAAK,EAAGC,KAAMG,EAAQG,QAAQC,WAU5H,OACI,sBAAKC,UAAU,OAAf,UACI,sBAAKA,UAAU,cAAf,UACI,wBAAQC,QAAS,kBAAML,KAAvB,6FACA,sBAAMM,SAAU,SAACC,GAAQA,EAAEC,iBAAkBR,KAA7C,SACI,uBAAOS,UAAWC,QAAQC,IAAI,OAAQC,IAAKb,EAASc,aAAa,oEAKjEhB,EAAWR,KAAI,SAACkB,GACZ,OACI,sBAAKH,UAAU,YAAf,UAEI,qBAAKA,UAAU,cAAf,SAA8BG,EAAEX,OAChC,wBAAQS,QAAS,kBArBvB,SAACS,GACnB,IAAIC,EAAQlB,EAAWmB,QAAO,SAAAT,GAAC,OAAIA,EAAEZ,IAAMmB,EAAQnB,MACnDG,EAAciB,GAmBiCE,CAAgBV,IAAvC,6BAKpB,eAAC,IAAD,CACIW,YAAa7B,EACb8B,aArDK,CAAEC,OAAQ,CAAC,MAAO,OAAQC,KAAM,IAsDrCC,eAnDS,SAAAf,GACjBd,EAAec,EAAEgB,IAAI,UAAUC,cAmDvBC,MAAM,QACNC,OAAO,QALX,UASQ7B,EAAWR,KAAI,SAACyB,GACZ,OACI,cAAC,IAAD,CACIa,UAAW,SAAApB,GAAC,OAvDV,SAACA,EAAGZ,GAC9B,IAAIoB,EAAQ,GACZlB,EAAWR,KAAI,SAACyB,GACRA,EAAQnB,KAAOA,IACfmB,EAAQpB,MAAQa,GAEpBQ,EAAMa,KAAKd,MAEfhB,EAAciB,GA+C0Bc,CAAwBtB,EAAEgB,IAAI,UAAUO,SAASC,iBAAkBjB,EAAQnB,KAC3FqC,QAAS,CACLC,WAAW,EACXC,uBAAuB,EACvBC,YAAY,GAGhBL,SAAUhB,EAAQpB,MAClB0C,QAAS,CAAC,0BAA2B,wBACrCC,WAAY,CACRC,qBAAsBxB,EAAQlB,WAO9CC,EAAWR,KAAI,SAACkB,EAAGgC,GACf,IAAIC,EAAU,GACd,GAAI3C,EAAW0C,EAAQ,GAGnB,OAFAC,EAAQZ,KAAK/B,EAAW0C,GAAO7C,OAC/B8C,EAAQZ,KAAK/B,EAAW0C,EAAQ,GAAG7C,OAE/B,cAAC,IAAD,CAEIoC,SACIU,EAEJR,QAAS,CACLS,oBAAoB,EACpBC,YAAa,OACbC,YAAa,EACbC,cAAe,eCjGxCC,MARf,WACE,OACE,cAAC,IAAD,UACE,cAACzD,EAAD,OCHN0D,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.1035e8c7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { useRef, useState } from 'react';\r\nimport { Map, Placemark, Polyline } from 'react-yandex-maps';\r\n\r\nexport function MapComponent() {\r\n    const map = useRef(null);\r\n\r\n    //Хранилище для состояния координат центра карты\r\n    const [centerCoord, setcenterCoord] = useState([55.76, 37.64]);\r\n\r\n    //Хранилище для состояния значений всех меток\r\n    const [placemarks, setplacemarks] = useState([{ coord: [55.76, 37.64], id: 0, name: \"Start\" }]);\r\n\r\n    //Хранилище для имени метки из input\r\n    const inputEl = useRef(null);\r\n\r\n    const mapState = { center: [55.76, 37.64], zoom: 10 };\r\n\r\n    //Смена координат центра карты при прокрутке карты\r\n    let onBoundsChange = e => {\r\n        setcenterCoord(e.get('target').getCenter())\r\n    }\r\n\r\n    //Смена координат метки при перемещении метки\r\n    let onBoundsPlacemarkChange = (e, id) => {\r\n        let array = [];\r\n        placemarks.map((element) => {\r\n            if (element.id === id) {\r\n                element.coord = e\r\n            }\r\n            array.push(element);\r\n        })\r\n        setplacemarks(array)\r\n    }\r\n\r\n    //Добавление метки\r\n    let addPlacemark = () => {\r\n        setplacemarks([...placemarks, { coord: centerCoord, id: placemarks[placemarks.length - 1].id + 1, name: inputEl.current.value }])\r\n    }\r\n\r\n    //Удаление метки\r\n    let deletePlacemark = (element) => {\r\n        let array = placemarks.filter(e => e.id != element.id)\r\n        setplacemarks(array)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"page\">\r\n            <div className=\"pageOptions\">\r\n                <button onClick={() => addPlacemark()}>Добавить метку</button>\r\n                <form onSubmit={(e) => { e.preventDefault(); addPlacemark() }}>\r\n                    <input onKeyDown={console.log('123')} ref={inputEl} defaultValue=\"Новая метка\" />\r\n                </form>\r\n\r\n                {\r\n                    //создание описания меток меток\r\n                    placemarks.map((e) => {\r\n                        return (\r\n                            <div className=\"placemark\">\r\n\r\n                                <div className=\"placemarkEl\">{e.name}</div>\r\n                                <button onClick={() => deletePlacemark(e)}>delete</button>\r\n                            </div>\r\n                        )\r\n                    })}\r\n            </div>\r\n            <Map\r\n                instanceRef={map}\r\n                defaultState={mapState}\r\n                onBoundsChange={onBoundsChange}\r\n                width='500px'\r\n                height='500px'\r\n            >\r\n                {\r\n                    //создание меток\r\n                    placemarks.map((element) => {\r\n                        return (\r\n                            <Placemark\r\n                                onDragEnd={e => onBoundsPlacemarkChange(e.get('target').geometry.getCoordinates(), element.id)}\r\n                                options={{\r\n                                    draggable: true,\r\n                                    hideIconOnBalloonOpen: false,\r\n                                    hasBalloon: true\r\n\r\n                                }}\r\n                                geometry={element.coord}\r\n                                modules={['geoObject.addon.balloon', 'geoObject.addon.hint']}\r\n                                properties={{\r\n                                    balloonContentHeader: element.name,\r\n                                }}\r\n                            />\r\n                        )\r\n                    })}\r\n                {\r\n                    //создание маршрута между метками \r\n                    placemarks.map((e, index) => {\r\n                        let polyGeo = [];\r\n                        if (placemarks[index + 1]) {\r\n                            polyGeo.push(placemarks[index].coord)\r\n                            polyGeo.push(placemarks[index + 1].coord)\r\n                            return (\r\n                                <Polyline\r\n\r\n                                    geometry={\r\n                                        polyGeo\r\n                                    }\r\n                                    options={{\r\n                                        balloonCloseButton: false,\r\n                                        strokeColor: '#000',\r\n                                        strokeWidth: 4,\r\n                                        strokeOpacity: 0.5,\r\n                                    }}\r\n                                />\r\n                            )\r\n                        }\r\n                    })\r\n                }\r\n            </Map>\r\n        </div>\r\n    )\r\n}\r\n","import logo from './logo.svg';\nimport './App.css';\nimport { MapComponent } from './components/MapComponent';\nimport { YMaps, Map } from 'react-yandex-maps';\n\nfunction App() {\n  return (\n    <YMaps>\n      <MapComponent />\n    </YMaps>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}